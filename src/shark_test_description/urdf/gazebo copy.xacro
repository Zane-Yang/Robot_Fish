<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

    <!-- Center of buoyancy -->
    <xacro:property name="shark_test_cob" value="0.038191 -0.0011682 0.029734"/>

    <!-- Vehicle's actual volume (Gazebo cannot compute the volume out of the mesh) -->
    <xacro:property name="shark_test_volume" value="0.004"/>  <!-- 调整为浮力平衡值 -->

    <!-- Describing the dimensions of the vehicle's bounding box -->
    <xacro:property name="shark_test_length" value="0.65"/>
    <xacro:property name="shark_test_width"  value="0.32"/>
    <xacro:property name="shark_test_height" value="0.25"/>

    <xacro:macro name="shark_test_hydro_model" params="namespace">
        <!-- 移除<link>标签，仅保留水动力参数定义 -->
        <xacro:property name="namespace" value="${namespace}"/>
        <xacro:property name="cob" value="${shark_test_cob}"/>
        <xacro:property name="volume" value="${shark_test_volume}"/>
        <xacro:property name="length" value="${shark_test_length}"/>
        <xacro:property name="width" value="${shark_test_width}"/>
        <xacro:property name="height" value="${shark_test_height}"/>

        <!-- 水动力模型参数（供base.xacro的插件调用） -->
        <xacro:property name="added_mass" value="0.1 0 0 0 0 0
            0 0.05 0 0 0 0
            0 0 0.05 0 0 0
            0 0 0 0.001 0 0
            0 0 0 0 0.001 0
            0 0 0 0 0 0.001"/>
        <xacro:property name="linear_damping" value="5 3 3 0.5 0.5 0.5"/>
        <xacro:property name="quadratic_damping" value="50 40 40 10 10 10"/>  <!-- 增大阻尼 -->
    </xacro:macro>

</robot>
